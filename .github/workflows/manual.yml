name: Daily Commit

on:
  schedule:
    - cron: "0 0/24 * * *"
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:

      - name: Checkout
        uses: actions/checkout@v2.3.4

      - name: Update date
        run: bash ./srcript.sh

      - name: Push to GitHub
        uses: EndBug/add-and-commit@v9 # You can change this to use a specific version.
        with:
            # The arguments for the `git add` command (see the paragraph below for more info)

            # The name of the user that will be displayed as the author of the commit.
            # Default: depends on the default_author input
            author_name: xmh1011

            # The email of the user that will be displayed as the author of the commit.
            # Default: depends on the default_author input
            author_email: 1197843839@qq.com

            # Additional arguments for the git commit command. The --message argument is already set by the message input.
            # Default: ''
            commit: --signoff

            # Determines the way the action fills missing author name and email. Three options are available:
            # - github_actor -> UserName <UserName@users.noreply.github.com>
            # - user_info -> Your Display Name <your-actual@email.com>
            # - github_actions -> github-actions <email associated with the github logo>
            # Default: github_actor
            default_author: github_actor

            # The message for the commit.
            # Default: 'Commit from GitHub Actions (name of the workflow)'
            message: 'feat: daily commit'

            # Arguments for the git push --tags command (any additional argument will be added after --tags)
            # Default: ''
            tag_push: '--force'
